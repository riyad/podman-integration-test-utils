============================= test session starts ==============================
collecting ... collected 389 items / 116 deselected / 273 selected

tests/integration/api_build_test.py::BuildTest::test_build_container_with_target PASSED [  0%]
tests/integration/api_build_test.py::BuildTest::test_build_from_stringio PASSED [  0%]
tests/integration/api_build_test.py::BuildTest::test_build_gzip_custom_encoding PASSED [  1%]
tests/integration/api_build_test.py::BuildTest::test_build_gzip_encoding PASSED [  1%]
tests/integration/api_build_test.py::BuildTest::test_build_in_context_abs_dockerfile FAILED [  1%]
tests/integration/api_build_test.py::BuildTest::test_build_in_context_dockerfile FAILED [  2%]
tests/integration/api_build_test.py::BuildTest::test_build_in_context_nested_dockerfile FAILED [  2%]
tests/integration/api_build_test.py::BuildTest::test_build_invalid_platform FAILED [  2%]
tests/integration/api_build_test.py::BuildTest::test_build_isolation PASSED [  3%]
tests/integration/api_build_test.py::BuildTest::test_build_labels FAILED [  3%]
tests/integration/api_build_test.py::BuildTest::test_build_out_of_context_dockerfile FAILED [  4%]
tests/integration/api_build_test.py::BuildTest::test_build_shmsize PASSED [  4%]
tests/integration/api_build_test.py::BuildTest::test_build_squash FAILED [  4%]
tests/integration/api_build_test.py::BuildTest::test_build_stderr_data FAILED [  5%]
tests/integration/api_build_test.py::BuildTest::test_build_streaming PASSED [  5%]
tests/integration/api_build_test.py::BuildTest::test_build_with_buildargs PASSED [  5%]
tests/integration/api_build_test.py::BuildTest::test_build_with_cache_from FAILED [  6%]
tests/integration/api_build_test.py::BuildTest::test_build_with_dockerfile_empty_lines PASSED [  6%]
tests/integration/api_build_test.py::BuildTest::test_build_with_dockerignore PASSED [  6%]
tests/integration/api_build_test.py::BuildTest::test_build_with_extra_hosts FAILED [  7%]
tests/integration/api_build_test.py::BuildTest::test_build_with_network_mode FAILED [  7%]
tests/integration/api_build_test.py::BuildTest::test_build_with_proxy PASSED [  8%]
tests/integration/api_build_test.py::BuildTest::test_build_with_proxy_and_buildargs PASSED [  8%]
tests/integration/api_build_test.py::BuildTest::test_prune_builds XFAIL  [  8%]
tests/integration/api_client_test.py::InformationTest::test_info PASSED  [  9%]
tests/integration/api_client_test.py::InformationTest::test_version PASSED [  9%]
tests/integration/api_client_test.py::AutoDetectVersionTest::test_client_init PASSED [  9%]
tests/integration/api_client_test.py::ConnectionTimeoutTest::test_timeout PASSED [ 10%]
tests/integration/api_client_test.py::UnixconnTest::test_resource_warnings PASSED [ 10%]
tests/integration/api_container_test.py::ListContainersTest::test_list_containers PASSED [ 10%]
tests/integration/api_container_test.py::CreateContainerTest::test_create PASSED [ 11%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_container_with_volumes_from PASSED [ 11%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_auto_remove PASSED [ 12%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_cpu_rt_options XPASS [ 12%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_device_cgroup_rules FAILED [ 12%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_environment_variable_no_value FAILED [ 13%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_host_pid_mode PASSED [ 13%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_init PASSED [ 13%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_isolation FAILED [ 14%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_links FAILED [ 14%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_mac_address FAILED [ 15%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_memory_constraints_with_int PASSED [ 15%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_memory_constraints_with_str FAILED [ 15%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_restart_policy FAILED [ 16%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_stop_timeout PASSED [ 16%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_storage_opt XFAIL [ 16%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_tmpfs FAILED [ 17%]
tests/integration/api_container_test.py::CreateContainerTest::test_create_with_uts_mode PASSED [ 17%]
tests/integration/api_container_test.py::CreateContainerTest::test_group_id_ints PASSED [ 17%]
tests/integration/api_container_test.py::CreateContainerTest::test_group_id_strings PASSED [ 18%]
tests/integration/api_container_test.py::CreateContainerTest::test_invalid_log_driver_raises_exception FAILED [ 18%]
tests/integration/api_container_test.py::CreateContainerTest::test_valid_log_driver_and_log_opt FAILED [ 19%]
tests/integration/api_container_test.py::CreateContainerTest::test_valid_no_config_specified FAILED [ 19%]
tests/integration/api_container_test.py::CreateContainerTest::test_valid_no_log_driver_specified FAILED [ 19%]
tests/integration/api_container_test.py::VolumeBindTest::test_create_with_binds_ro PASSED [ 20%]
tests/integration/api_container_test.py::VolumeBindTest::test_create_with_binds_rw PASSED [ 20%]
tests/integration/api_container_test.py::VolumeBindTest::test_create_with_mounts PASSED [ 20%]
tests/integration/api_container_test.py::VolumeBindTest::test_create_with_mounts_ro FAILED [ 21%]
tests/integration/api_container_test.py::VolumeBindTest::test_create_with_volume_mount PASSED [ 21%]
tests/integration/api_container_test.py::ArchiveTest::test_copy_directory_to_container FAILED [ 21%]
tests/integration/api_container_test.py::ArchiveTest::test_copy_file_to_container FAILED [ 22%]
tests/integration/api_container_test.py::ArchiveTest::test_get_file_archive_from_container FAILED [ 22%]
tests/integration/api_container_test.py::ArchiveTest::test_get_file_stat_from_container FAILED [ 23%]
tests/integration/api_container_test.py::RenameContainerTest::test_rename_container PASSED [ 23%]
tests/integration/api_container_test.py::StartContainerTest::test_run_shlex_commands PASSED [ 23%]
tests/integration/api_container_test.py::StartContainerTest::test_start_container PASSED [ 24%]
tests/integration/api_container_test.py::StartContainerTest::test_start_container_with_dict_instead_of_id PASSED [ 24%]
tests/integration/api_container_test.py::WaitTest::test_wait PASSED      [ 24%]
tests/integration/api_container_test.py::WaitTest::test_wait_with_condition FAILED [ 25%]
tests/integration/api_container_test.py::WaitTest::test_wait_with_dict_instead_of_id PASSED [ 25%]
tests/integration/api_container_test.py::LogsTest::test_logs PASSED      [ 26%]
tests/integration/api_container_test.py::LogsTest::test_logs_streaming_and_follow PASSED [ 26%]
tests/integration/api_container_test.py::LogsTest::test_logs_streaming_and_follow_and_cancel PASSED [ 26%]
tests/integration/api_container_test.py::LogsTest::test_logs_tail_option PASSED [ 27%]
tests/integration/api_container_test.py::LogsTest::test_logs_with_dict_instead_of_id PASSED [ 27%]
tests/integration/api_container_test.py::LogsTest::test_logs_with_tail_0 PASSED [ 27%]
tests/integration/api_container_test.py::LogsTest::test_logs_with_until PASSED [ 28%]
tests/integration/api_container_test.py::DiffTest::test_diff PASSED      [ 28%]
tests/integration/api_container_test.py::DiffTest::test_diff_with_dict_instead_of_id PASSED [ 28%]
tests/integration/api_container_test.py::StopTest::test_stop PASSED      [ 29%]
tests/integration/api_container_test.py::StopTest::test_stop_with_dict_instead_of_id PASSED [ 29%]
tests/integration/api_container_test.py::KillTest::test_kill PASSED      [ 30%]
tests/integration/api_container_test.py::KillTest::test_kill_with_dict_instead_of_id PASSED [ 30%]
tests/integration/api_container_test.py::KillTest::test_kill_with_signal PASSED [ 30%]
tests/integration/api_container_test.py::KillTest::test_kill_with_signal_integer PASSED [ 31%]
tests/integration/api_container_test.py::KillTest::test_kill_with_signal_name PASSED [ 31%]
tests/integration/api_container_test.py::PortTest::test_port FAILED      [ 31%]
tests/integration/api_container_test.py::ContainerTopTest::test_top XFAIL [ 32%]
tests/integration/api_container_test.py::ContainerTopTest::test_top_with_psargs XFAIL [ 32%]
tests/integration/api_container_test.py::RestartContainerTest::test_restart PASSED [ 32%]
tests/integration/api_container_test.py::RestartContainerTest::test_restart_with_dict_instead_of_id PASSED [ 33%]
tests/integration/api_container_test.py::RestartContainerTest::test_restart_with_low_timeout PASSED [ 33%]
tests/integration/api_container_test.py::RemoveContainerTest::test_remove PASSED [ 34%]
tests/integration/api_container_test.py::RemoveContainerTest::test_remove_with_dict_instead_of_id PASSED [ 34%]
tests/integration/api_container_test.py::AttachContainerTest::test_attach_no_stream FAILED [ 34%]
tests/integration/api_container_test.py::AttachContainerTest::test_attach_stream_and_cancel PASSED [ 35%]
tests/integration/api_container_test.py::AttachContainerTest::test_detach_with_arg PASSED [ 35%]
tests/integration/api_container_test.py::AttachContainerTest::test_detach_with_config_file PASSED [ 35%]
tests/integration/api_container_test.py::AttachContainerTest::test_detach_with_default PASSED [ 36%]
tests/integration/api_container_test.py::AttachContainerTest::test_run_container_reading_socket PASSED [ 36%]
tests/integration/api_container_test.py::AttachContainerTest::test_run_container_streaming PASSED [ 36%]
tests/integration/api_container_test.py::PauseTest::test_pause_unpause FAILED [ 37%]
tests/integration/api_container_test.py::PruneTest::test_prune_containers PASSED [ 37%]
tests/integration/api_container_test.py::GetContainerStatsTest::test_get_container_stats_no_stream PASSED [ 38%]
tests/integration/api_container_test.py::ContainerUpdateTest::test_restart_policy_update FAILED [ 38%]
tests/integration/api_container_test.py::ContainerUpdateTest::test_update_container FAILED [ 38%]
tests/integration/api_container_test.py::ContainerCPUTest::test_container_cpu_shares FAILED [ 39%]
tests/integration/api_container_test.py::ContainerCPUTest::test_container_cpuset FAILED [ 39%]
tests/integration/api_container_test.py::ContainerCPUTest::test_create_with_runtime FAILED [ 39%]
tests/integration/api_container_test.py::LinkTest::test_remove_link FAILED [ 40%]
tests/integration/api_exec_test.py::ExecTest::test_detach_with_config_file FAILED [ 40%]
tests/integration/api_exec_test.py::ExecTest::test_detach_with_default PASSED [ 41%]
tests/integration/api_exec_test.py::ExecTest::test_exec_command_as_root PASSED [ 41%]
tests/integration/api_exec_test.py::ExecTest::test_exec_command_as_user PASSED [ 41%]
tests/integration/api_exec_test.py::ExecTest::test_exec_command_streaming PASSED [ 42%]
tests/integration/api_exec_test.py::ExecTest::test_exec_command_string PASSED [ 42%]
tests/integration/api_exec_test.py::ExecTest::test_exec_command_with_env PASSED [ 42%]
tests/integration/api_exec_test.py::ExecTest::test_exec_command_with_workdir PASSED [ 43%]
tests/integration/api_exec_test.py::ExecTest::test_exec_inspect PASSED   [ 43%]
tests/integration/api_exec_test.py::ExecTest::test_exec_start_detached FAILED [ 43%]
tests/integration/api_exec_test.py::ExecTest::test_exec_start_socket FAILED [ 44%]
tests/integration/api_exec_test.py::ExecTest::test_execute_command PASSED [ 44%]
tests/integration/api_exec_test.py::ExecTest::test_execute_command_with_proxy_env PASSED [ 45%]
tests/integration/api_exec_test.py::ExecDemuxTest::test_exec_command_no_stream_demux PASSED [ 45%]
tests/integration/api_exec_test.py::ExecDemuxTest::test_exec_command_no_stream_no_demux PASSED [ 45%]
tests/integration/api_exec_test.py::ExecDemuxTest::test_exec_command_stream_demux PASSED [ 46%]
tests/integration/api_exec_test.py::ExecDemuxTest::test_exec_command_stream_no_demux PASSED [ 46%]
tests/integration/api_exec_test.py::ExecDemuxTest::test_exec_command_tty_no_stream_demux FAILED [ 46%]
tests/integration/api_exec_test.py::ExecDemuxTest::test_exec_command_tty_no_stream_no_demux FAILED [ 47%]
tests/integration/api_exec_test.py::ExecDemuxTest::test_exec_command_tty_stream_demux FAILED [ 47%]
tests/integration/api_exec_test.py::ExecDemuxTest::test_exec_command_tty_stream_no_demux FAILED [ 47%]
tests/integration/api_healthcheck_test.py::HealthcheckTest::test_healthcheck_fails FAILED [ 48%]
tests/integration/api_healthcheck_test.py::HealthcheckTest::test_healthcheck_passes FAILED [ 48%]
tests/integration/api_healthcheck_test.py::HealthcheckTest::test_healthcheck_shell_command FAILED [ 49%]
tests/integration/api_healthcheck_test.py::HealthcheckTest::test_healthcheck_start_period FAILED [ 49%]
tests/integration/api_image_test.py::ListImagesTest::test_images PASSED  [ 49%]
tests/integration/api_image_test.py::ListImagesTest::test_images_quiet PASSED [ 50%]
tests/integration/api_image_test.py::PullImageTest::test_pull PASSED     [ 50%]
tests/integration/api_image_test.py::PullImageTest::test_pull_invalid_platform FAILED [ 50%]
tests/integration/api_image_test.py::PullImageTest::test_pull_streaming PASSED [ 51%]
tests/integration/api_image_test.py::CommitTest::test_commit FAILED      [ 51%]
tests/integration/api_image_test.py::CommitTest::test_commit_with_changes FAILED [ 52%]
tests/integration/api_image_test.py::RemoveImageTest::test_remove PASSED [ 52%]
tests/integration/api_image_test.py::ImportImageTest::test_get_load_image FAILED [ 52%]
tests/integration/api_image_test.py::ImportImageTest::test_import_from_bytes PASSED [ 53%]
tests/integration/api_image_test.py::ImportImageTest::test_import_from_file PASSED [ 53%]
tests/integration/api_image_test.py::ImportImageTest::test_import_from_stream PASSED [ 53%]
tests/integration/api_image_test.py::ImportImageTest::test_import_from_url SKIPPED [ 54%]
tests/integration/api_image_test.py::ImportImageTest::test_import_image_from_data_with_changes PASSED [ 54%]
tests/integration/api_image_test.py::ImportImageTest::test_import_image_with_changes PASSED [ 54%]
tests/integration/api_image_test.py::PruneImagesTest::test_prune_images FAILED [ 55%]
tests/integration/api_image_test.py::SaveLoadImagesTest::test_get_image_load_image FAILED [ 55%]
tests/integration/api_image_test.py::InspectDistributionTest::test_inspect_distribution FAILED [ 56%]
tests/integration/api_network_test.py::TestNetworks::test_connect_and_disconnect_container FAILED [ 56%]
tests/integration/api_network_test.py::TestNetworks::test_connect_and_force_disconnect_container FAILED [ 56%]
tests/integration/api_network_test.py::TestNetworks::test_connect_on_container_create FAILED [ 57%]
tests/integration/api_network_test.py::TestNetworks::test_connect_with_aliases FAILED [ 57%]
tests/integration/api_network_test.py::TestNetworks::test_connect_with_ipv4_address FAILED [ 57%]
tests/integration/api_network_test.py::TestNetworks::test_connect_with_ipv6_address FAILED [ 58%]
tests/integration/api_network_test.py::TestNetworks::test_connect_with_links FAILED [ 58%]
tests/integration/api_network_test.py::TestNetworks::test_create_check_duplicate FAILED [ 58%]
tests/integration/api_network_test.py::TestNetworks::test_create_internal_networks PASSED [ 59%]
tests/integration/api_network_test.py::TestNetworks::test_create_network_ipv6_enabled FAILED [ 59%]
tests/integration/api_network_test.py::TestNetworks::test_create_network_with_host_driver_fails PASSED [ 60%]
tests/integration/api_network_test.py::TestNetworks::test_create_network_with_ipam_config FAILED [ 60%]
tests/integration/api_network_test.py::TestNetworks::test_create_network_with_labels PASSED [ 60%]
tests/integration/api_network_test.py::TestNetworks::test_create_network_with_labels_wrong_type PASSED [ 61%]
tests/integration/api_network_test.py::TestNetworks::test_create_remove_network_with_space_in_name PASSED [ 61%]
tests/integration/api_network_test.py::TestNetworks::test_create_with_aliases PASSED [ 61%]
tests/integration/api_network_test.py::TestNetworks::test_create_with_driveropt FAILED [ 62%]
tests/integration/api_network_test.py::TestNetworks::test_create_with_ipv4_address FAILED [ 62%]
tests/integration/api_network_test.py::TestNetworks::test_create_with_ipv6_address FAILED [ 63%]
tests/integration/api_network_test.py::TestNetworks::test_create_with_linklocal_ips FAILED [ 63%]
tests/integration/api_network_test.py::TestNetworks::test_create_with_links FAILED [ 63%]
tests/integration/api_network_test.py::TestNetworks::test_inspect_network PASSED [ 64%]
tests/integration/api_network_test.py::TestNetworks::test_list_networks PASSED [ 64%]
tests/integration/api_network_test.py::TestNetworks::test_prune_networks FAILED [ 64%]
tests/integration/api_network_test.py::TestNetworks::test_remove_network FAILED [ 65%]
tests/integration/api_plugin_test.py::PluginTest::test_configure_plugin FAILED [ 65%]
tests/integration/api_plugin_test.py::PluginTest::test_create_plugin FAILED [ 65%]
tests/integration/api_plugin_test.py::PluginTest::test_disable_plugin FAILED [ 66%]
tests/integration/api_plugin_test.py::PluginTest::test_enable_plugin FAILED [ 66%]
tests/integration/api_plugin_test.py::PluginTest::test_force_remove_plugin FAILED [ 67%]
tests/integration/api_plugin_test.py::PluginTest::test_inspect_plugin FAILED [ 67%]
tests/integration/api_plugin_test.py::PluginTest::test_install_plugin FAILED [ 67%]
tests/integration/api_plugin_test.py::PluginTest::test_list_plugins FAILED [ 68%]
tests/integration/api_plugin_test.py::PluginTest::test_plugin_privileges FAILED [ 68%]
tests/integration/api_plugin_test.py::PluginTest::test_remove_plugin FAILED [ 68%]
tests/integration/api_plugin_test.py::PluginTest::test_upgrade_plugin FAILED [ 69%]
tests/integration/api_volume_test.py::TestVolumes::test_create_volume PASSED [ 69%]
tests/integration/api_volume_test.py::TestVolumes::test_create_volume_invalid_driver FAILED [ 69%]
tests/integration/api_volume_test.py::TestVolumes::test_force_remove_volume PASSED [ 70%]
tests/integration/api_volume_test.py::TestVolumes::test_inspect_nonexistent_volume PASSED [ 70%]
tests/integration/api_volume_test.py::TestVolumes::test_inspect_volume FAILED [ 71%]
tests/integration/api_volume_test.py::TestVolumes::test_list_volumes FAILED [ 71%]
tests/integration/api_volume_test.py::TestVolumes::test_prune_volumes PASSED [ 71%]
tests/integration/api_volume_test.py::TestVolumes::test_remove_nonexistent_volume PASSED [ 72%]
tests/integration/api_volume_test.py::TestVolumes::test_remove_volume PASSED [ 72%]
tests/integration/client_test.py::ClientTest::test_df PASSED             [ 72%]
tests/integration/client_test.py::ClientTest::test_info PASSED           [ 73%]
tests/integration/client_test.py::ClientTest::test_ping PASSED           [ 73%]
tests/integration/client_test.py::ClientTest::test_version PASSED        [ 73%]
tests/integration/client_test.py::CancellableEventsTest::test_cancel_events PASSED [ 74%]
tests/integration/context_api_test.py::ContextLifecycleTest::test_context_remove FAILED [ 74%]
tests/integration/context_api_test.py::ContextLifecycleTest::test_lifecycle FAILED [ 75%]
tests/integration/context_api_test.py::ContextLifecycleTest::test_load_context_without_orchestrator FAILED [ 75%]
tests/integration/errors_test.py::ErrorsTest::test_api_error_parses_json FAILED [ 75%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_get FAILED [ 76%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_list FAILED [ 76%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_list_sparse FAILED [ 76%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run FAILED [ 77%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_detach FAILED [ 77%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_auto_remove FAILED [ 78%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_auto_remove_error PASSED [ 78%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_error PASSED [ 78%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_image_that_does_not_exist FAILED [ 79%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_json_file_driver PASSED [ 79%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_named_volume FAILED [ 79%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_network PASSED [ 80%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_none_driver PASSED [ 80%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_proxy_config FAILED [ 80%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_streamed_logs FAILED [ 81%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_streamed_logs_and_cancel FAILED [ 81%]
tests/integration/models_containers_test.py::ContainerCollectionTest::test_run_with_volume FAILED [ 82%]
tests/integration/models_containers_test.py::ContainerTest::test_commit FAILED [ 82%]
tests/integration/models_containers_test.py::ContainerTest::test_create_with_volume_driver FAILED [ 82%]
tests/integration/models_containers_test.py::ContainerTest::test_diff FAILED [ 83%]
tests/integration/models_containers_test.py::ContainerTest::test_exec_run_failed FAILED [ 83%]
tests/integration/models_containers_test.py::ContainerTest::test_exec_run_success PASSED [ 83%]
tests/integration/models_containers_test.py::ContainerTest::test_kill FAILED [ 84%]
tests/integration/models_containers_test.py::ContainerTest::test_logs PASSED [ 84%]
tests/integration/models_containers_test.py::ContainerTest::test_pause FAILED [ 84%]
tests/integration/models_containers_test.py::ContainerTest::test_ports_target_list PASSED [ 85%]
tests/integration/models_containers_test.py::ContainerTest::test_ports_target_none FAILED [ 85%]
tests/integration/models_containers_test.py::ContainerTest::test_ports_target_tuple PASSED [ 86%]
tests/integration/models_containers_test.py::ContainerTest::test_remove PASSED [ 86%]
tests/integration/models_containers_test.py::ContainerTest::test_rename PASSED [ 86%]
tests/integration/models_containers_test.py::ContainerTest::test_restart PASSED [ 87%]
tests/integration/models_containers_test.py::ContainerTest::test_start FAILED [ 87%]
tests/integration/models_containers_test.py::ContainerTest::test_stats PASSED [ 87%]
tests/integration/models_containers_test.py::ContainerTest::test_stop FAILED [ 88%]
tests/integration/models_containers_test.py::ContainerTest::test_top FAILED [ 88%]
tests/integration/models_containers_test.py::ContainerTest::test_update FAILED [ 89%]
tests/integration/models_containers_test.py::ContainerTest::test_wait PASSED [ 89%]
tests/integration/models_images_test.py::ImageCollectionTest::test_build FAILED [ 89%]
tests/integration/models_images_test.py::ImageCollectionTest::test_build_with_error FAILED [ 90%]
tests/integration/models_images_test.py::ImageCollectionTest::test_build_with_multiple_success FAILED [ 90%]
tests/integration/models_images_test.py::ImageCollectionTest::test_build_with_success_build_output FAILED [ 90%]
tests/integration/models_images_test.py::ImageCollectionTest::test_list PASSED [ 91%]
tests/integration/models_images_test.py::ImageCollectionTest::test_list_with_repository PASSED [ 91%]
tests/integration/models_images_test.py::ImageCollectionTest::test_load_error FAILED [ 91%]
tests/integration/models_images_test.py::ImageCollectionTest::test_pull FAILED [ 92%]
tests/integration/models_images_test.py::ImageCollectionTest::test_pull_multiple FAILED [ 92%]
tests/integration/models_images_test.py::ImageCollectionTest::test_pull_with_sha FAILED [ 93%]
tests/integration/models_images_test.py::ImageCollectionTest::test_pull_with_tag FAILED [ 93%]
tests/integration/models_images_test.py::ImageCollectionTest::test_save_and_load PASSED [ 93%]
tests/integration/models_images_test.py::ImageCollectionTest::test_save_and_load_repo_name FAILED [ 94%]
tests/integration/models_images_test.py::ImageCollectionTest::test_save_name_error PASSED [ 94%]
tests/integration/models_images_test.py::ImageTest::test_tag_and_remove PASSED [ 94%]
tests/integration/models_networks_test.py::NetworkCollectionTest::test_create PASSED [ 95%]
tests/integration/models_networks_test.py::NetworkCollectionTest::test_get PASSED [ 95%]
tests/integration/models_networks_test.py::NetworkCollectionTest::test_list_remove FAILED [ 95%]
tests/integration/models_networks_test.py::NetworkTest::test_connect_disconnect FAILED [ 96%]
tests/integration/models_resources_test.py::ModelTest::test_reload PASSED [ 96%]
tests/integration/models_volumes_test.py::VolumesTest::test_create_get PASSED [ 97%]
tests/integration/models_volumes_test.py::VolumesTest::test_list_remove FAILED [ 97%]
tests/integration/regression_test.py::TestRegressions::test_443_handle_nonchunked_response_in_stream FAILED [ 97%]
tests/integration/regression_test.py::TestRegressions::test_542_truncate_ids_client_side PASSED [ 98%]
tests/integration/regression_test.py::TestRegressions::test_647_support_doubleslash_in_image_names PASSED [ 98%]
tests/integration/regression_test.py::TestRegressions::test_649_handle_timeout_value_none PASSED [ 98%]
tests/integration/regression_test.py::TestRegressions::test_715_handle_user_param_as_int_value PASSED [ 99%]
tests/integration/regression_test.py::TestRegressions::test_792_explicit_port_protocol PASSED [ 99%]
tests/integration/credentials/utils_test.py::test_create_environment_dict PASSED [100%]

=================================== FAILURES ===================================
________________ BuildTest.test_build_in_context_abs_dockerfile ________________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:575: in test_build_in_context_abs_dockerfile
    ???
E   AssertionError: assert 'Successfully tagged' in 'Successfully built b32218dbfc35\n'
__________________ BuildTest.test_build_in_context_dockerfile __________________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:510: in test_build_in_context_dockerfile
    ???
E   AssertionError: assert 'Successfully tagged' in 'Successfully built 4f00e26395e3\n'
______________ BuildTest.test_build_in_context_nested_dockerfile _______________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:543: in test_build_in_context_nested_dockerfile
    ???
E   AssertionError: assert 'Successfully tagged' in 'Successfully built 6e7a7513b8e3\n'
____________________ BuildTest.test_build_invalid_platform _____________________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:448: in test_build_invalid_platform
    ???
E   Failed: DID NOT RAISE <class 'docker.errors.APIError'>
_________________________ BuildTest.test_build_labels __________________________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:215: in test_build_labels
    ???
E   AssertionError: assert {'io.buildah.... 'test': 'OK'} == {'test': 'OK'}
E     Omitting 1 identical items, use -vv to show
E     Left contains 1 more item:
E     {'io.buildah.version': '1.19.2'}
E     Full diff:
E     - {'test': 'OK'}
E     + {'io.buildah.version': '1.19.2', 'test': 'OK'}
________________ BuildTest.test_build_out_of_context_dockerfile ________________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:481: in test_build_out_of_context_dockerfile
    ???
E   KeyError: 'stream'
_________________________ BuildTest.test_build_squash __________________________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:371: in test_build_squash
    ???
E   AssertionError: assert 2 == 4
E     +2
E     -4
_______________________ BuildTest.test_build_stderr_data _______________________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:391: in test_build_stderr_data
    ???
E   AssertionError: assert False
E    +  where False = any([False, False, False, False, False, False, ...])
_____________________ BuildTest.test_build_with_cache_from _____________________
/home/riyad/src/docker-py/tests/integration/api_build_test.py:240: in test_build_with_cache_from
    ???
E   AssertionError: assert 0 == 3
E     +0
E     -3
____________________ BuildTest.test_build_with_extra_hosts _____________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/images/dockerpytest_extrahost_build/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_build_test.py:340: in test_build_with_extra_hosts
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/image.py:253: in inspect_image
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.ImageNotFound: 404 Client Error for http+docker://localhost/v1.40/images/dockerpytest_extrahost_build/json: Not Found ("failed to find image dockerpytest_extrahost_build: unable to find a name and tag match for dockerpytest_extrahost_build in repotags: No such image")
____________________ BuildTest.test_build_with_network_mode ____________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/3941ece65b0f145a51026040fb5f1fab2be62000e1978b74bf79455bf1d59a36/connect

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_build_test.py:283: in test_build_with_network_mode
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/network.py:250: in connect_container_to_network
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/3941ece65b0f145a51026040fb5f1fab2be62000e1978b74bf79455bf1d59a36/connect: Internal Server Error ("network disconnect is not enabled for rootless containers")
___________ CreateContainerTest.test_create_with_device_cgroup_rules ___________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:477: in test_create_with_device_cgroup_rules
    ???
E   AssertionError: assert None == ['c 7:128 rwm']
E     +None
E     -['c 7:128 rwm']
______ CreateContainerTest.test_create_with_environment_variable_no_value ______
/home/riyad/src/docker-py/tests/integration/api_container_test.py:373: in test_create_with_environment_variable_no_value
    ???
E   AssertionError: assert 'Foo' in ['PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'TERM=xterm', 'container=podman', 'Other=one', 'Blank=']
________________ CreateContainerTest.test_create_with_isolation ________________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:402: in test_create_with_isolation
    ???
E   AssertionError: assert '' == 'default'
E     - default
__________________ CreateContainerTest.test_create_with_links __________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http+docker://localhost/v1.40/containers/create

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:96: in test_create_with_links
    ???
docker/api/container.py:430: in create_container
    return self.create_container_from_config(config, name)
docker/api/container.py:441: in create_container_from_config
    return self._result(res, True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 400 Client Error for http+docker://localhost/v1.40/containers/create: Bad Request ("bad parameter: Link is not supported")
_______________ CreateContainerTest.test_create_with_mac_address _______________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:217: in test_create_with_mac_address
    ???
E   AssertionError: assert '02:42:ac:11:00:0a' == ''
E     + 02:42:ac:11:00:0a
_______ CreateContainerTest.test_create_with_memory_constraints_with_str _______
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/4dff13a874cbd789683f764ad502b5f1b21a3af804ae9abdf31dd1aa21d5ec4b/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:343: in test_create_with_memory_constraints_with_str
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/4dff13a874cbd789683f764ad502b5f1b21a3af804ae9abdf31dd1aa21d5ec4b/start: Internal Server Error ("cannot set limits without cgroups: OCI runtime error")
_____________ CreateContainerTest.test_create_with_restart_policy ______________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:127: in test_create_with_restart_policy
    ???
E   Failed: DID NOT RAISE <class 'docker.errors.APIError'>
__________________ CreateContainerTest.test_create_with_tmpfs __________________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:391: in test_create_with_tmpfs
    ???
E   AssertionError: assert {'/tmp1=size=...ev,tmpcopyup'} == {'/tmp1': 'size=3M'}
E     Left contains 1 more item:
E     {'/tmp1=size=3M': 'rw,rprivate,nosuid,nodev,tmpcopyup'}
E     Right contains 1 more item:
E     {'/tmp1': 'size=3M'}
E     Full diff:
E     - {'/tmp1': 'size=3M'}
E     + {'/tmp1=size=3M': 'rw,rprivate,nosuid,nodev,tmpcopyup'}
_________ CreateContainerTest.test_invalid_log_driver_raises_exception _________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:293: in test_invalid_log_driver_raises_exception
    ???
E   AssertionError: assert 'container create: error running container create option: invalid log driver: invalid argument' in ["logger: no log driver named 'asdf' is registered", 'error looking up logging plugin asdf: plugin "asdf" not found']
E    +  where 'container create: error running container create option: invalid log driver: invalid argument' = APIError(HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/create')).explanation
E    +    where APIError(HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/create')) = <ExceptionInfo APIError(HTTPError('500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/create')) tblen=6>.value
____________ CreateContainerTest.test_valid_log_driver_and_log_opt _____________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:272: in test_valid_log_driver_and_log_opt
    ???
E   AssertionError: assert None == {'max-file': '100'}
E     +None
E     -{'max-file': '100'}
______________ CreateContainerTest.test_valid_no_config_specified ______________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:331: in test_valid_no_config_specified
    ???
E   AssertionError: assert None == {}
E     +None
E     -{}
____________ CreateContainerTest.test_valid_no_log_driver_specified ____________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:311: in test_valid_no_log_driver_specified
    ???
E   AssertionError: assert 'k8s-file' == 'json-file'
E     - json-file
E     + k8s-file
__________________ VolumeBindTest.test_create_with_mounts_ro ___________________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:581: in test_create_with_mounts_ro
    ???
/home/riyad/src/docker-py/tests/integration/api_container_test.py:614: in check_container_data
    ???
E   AssertionError: assert True == False
E     +True
E     -False
_________________ ArchiveTest.test_copy_directory_to_container _________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/1b703a0830f0630de2500f53d14bf35d28a1ad79bf345f1dc1148b81eac56dfa/archive?path=%2Fvol1

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:700: in test_copy_directory_to_container
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:966: in put_archive
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/1b703a0830f0630de2500f53d14bf35d28a1ad79bf345f1dc1148b81eac56dfa/archive?path=%2Fvol1: Internal Server Error ("No such file or directory")
___________________ ArchiveTest.test_copy_file_to_container ____________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/ed3bac78672c44243a245569c236b09a70bf63f822cbba21b3641748d32dba52/archive?path=%2Fvol1

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:682: in test_copy_file_to_container
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:966: in put_archive
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/ed3bac78672c44243a245569c236b09a70bf63f822cbba21b3641748d32dba52/archive?path=%2Fvol1: Internal Server Error ("No such file or directory")
_______________ ArchiveTest.test_get_file_archive_from_container _______________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/containers/32b6fd855b9d2924d4f4674bdfc5f0dffffd0580b4554c38569e6836d04b1fc1/archive?path=%2Fvol1%2Fdata.txt

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:644: in test_get_file_archive_from_container
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:750: in get_archive
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/containers/32b6fd855b9d2924d4f4674bdfc5f0dffffd0580b4554c38569e6836d04b1fc1/archive?path=%2Fvol1%2Fdata.txt: Not Found ("No such file or directory")
________________ ArchiveTest.test_get_file_stat_from_container _________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/containers/9ec5cf8224add15f500579e3519c8065016359cf50cfa310cca1eec488d76061/archive?path=%2Fvol1%2Fdata.txt

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:662: in test_get_file_stat_from_container
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:750: in get_archive
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/containers/9ec5cf8224add15f500579e3519c8065016359cf50cfa310cca1eec488d76061/archive?path=%2Fvol1%2Fdata.txt: Not Found ("No such file or directory")
______________________ WaitTest.test_wait_with_condition _______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/3bfc3a3fcd1727c59f169d8d68146e2189cdb66c1c775f495d1850c9ce5ea1dc/wait?condition=removed

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:815: in test_wait_with_condition
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1306: in wait
    return self._result(res, True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/3bfc3a3fcd1727c59f169d8d68146e2189cdb66c1c775f495d1850c9ce5ea1dc/wait?condition=removed: Internal Server Error ("unknown container state: removed: invalid argument")
______________________________ PortTest.test_port ______________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/50a2c4c6c41580017b60afb96315368e3e6ab3ac57ba86c35a5450029d1eecfe/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1090: in test_port
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/50a2c4c6c41580017b60afb96315368e3e6ab3ac57ba86c35a5450029d1eecfe/start: Internal Server Error ("command rootless-cni-infra [alloc 50a2c4c6c41580017b60afb96315368e3e6ab3ac57ba86c35a5450029d1eecfe bridge wizardly_kepler] in container bf334918bc2da1c4ddc198a0c59197798d18df575c193c441ae673ae303de96e failed with status 1, stdout="", stderr="no net configurations found in /etc/cni/net.d\n"")
__________________ AttachContainerTest.test_attach_no_stream ___________________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1252: in test_attach_no_stream
    ???
E   AssertionError: assert b'hello' == b'hello\n'
E     Full diff:
E     - b'hello\n'
E     ?        --
E     + b'hello'
_________________________ PauseTest.test_pause_unpause _________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/bfdeab12bbf473c220d73615dd131bab041b9214129e41dd52388a24a308f1c3/pause

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1336: in test_pause_unpause
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:892: in pause
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/bfdeab12bbf473c220d73615dd131bab041b9214129e41dd52388a24a308f1c3/pause: Internal Server Error ("`/usr/bin/crun pause bfdeab12bbf473c220d73615dd131bab041b9214129e41dd52388a24a308f1c3` failed: exit status 1")
________________ ContainerUpdateTest.test_restart_policy_update ________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/containers/e52adf85e57396dfd7bd7b413f12aa4b8212c5c35a9d605a9076543b3185bfed/update

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1438: in test_restart_policy_update
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1270: in update_container
    return self._result(res, True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/containers/e52adf85e57396dfd7bd7b413f12aa4b8212c5c35a9d605a9076543b3185bfed/update: Not Found ("b'Not Found'")
__________________ ContainerUpdateTest.test_update_container ___________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/752a25a6e43e5fe95aa67fac2dcc60039956f147b25eb7dc456347bb607b4863/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1415: in test_update_container
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/752a25a6e43e5fe95aa67fac2dcc60039956f147b25eb7dc456347bb607b4863/start: Internal Server Error ("cannot set limits without cgroups: OCI runtime error")
__________________ ContainerCPUTest.test_container_cpu_shares __________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/ec49e97b532dc9902e94b1b42226449e5e4ad0a6ec84db9970bbbc201d1cd9b9/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1460: in test_container_cpu_shares
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/ec49e97b532dc9902e94b1b42226449e5e4ad0a6ec84db9970bbbc201d1cd9b9/start: Internal Server Error ("cannot set limits without cgroups: OCI runtime error")
____________________ ContainerCPUTest.test_container_cpuset ____________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/b0b69c0853809a81cc68cf28ecee59bda21b0eb45a57c60abf3be0361030b186/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1472: in test_container_cpuset
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/b0b69c0853809a81cc68cf28ecee59bda21b0eb45a57c60abf3be0361030b186/start: Internal Server Error ("cannot set limits without cgroups: OCI runtime error")
__________________ ContainerCPUTest.test_create_with_runtime ___________________
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1483: in test_create_with_runtime
    ???
E   AssertionError: assert 'oci' == 'runc'
E     - runc
E     + oci
__________________________ LinkTest.test_remove_link ___________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http+docker://localhost/v1.40/containers/create

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_container_test.py:1501: in test_remove_link
    ???
docker/api/container.py:430: in create_container
    return self.create_container_from_config(config, name)
docker/api/container.py:441: in create_container_from_config
    return self._result(res, True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 400 Client Error for http+docker://localhost/v1.40/containers/create: Bad Request ("bad parameter: Link is not supported")
____________________ ExecTest.test_detach_with_config_file _____________________
/home/riyad/src/docker-py/tests/integration/api_exec_test.py:227: in test_detach_with_config_file
    ???
tests/helpers.py:138: in assert_cat_socket_detached_with_keys
    assert data == b'' or data.startswith(
E   AssertionError
______________________ ExecTest.test_exec_start_detached _______________________
/home/riyad/src/docker-py/tests/integration/api_exec_test.py:152: in test_exec_start_detached
    ???
E   AssertionError: assert '\n' == ''
E     Strings contain only whitespace, escaping them using repr()
E     - ''
E     + '\n'
_______________________ ExecTest.test_exec_start_socket ________________________
/home/riyad/src/docker-py/tests/integration/api_exec_test.py:134: in test_exec_start_socket
    ???
E   AssertionError: assert 121 == 1
E     +121
E     -1
_____________ ExecDemuxTest.test_exec_command_tty_no_stream_demux ______________
/home/riyad/src/docker-py/tests/integration/api_exec_test.py:299: in test_exec_command_tty_no_stream_demux
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/exec_api.py:169: in exec_start
    return self._read_from_socket(res, stream, tty=tty, demux=demux)
docker/api/client.py:450: in _read_from_socket
    return consume_socket_output(gen, demux=demux)
docker/utils/socket.py:142: in consume_socket_output
    for frame in frames:
docker/api/client.py:441: in <genexpr>
    gen = (demux_adaptor(*frame) for frame in gen)
docker/utils/socket.py:169: in demux_adaptor
    raise ValueError('{0} is not a valid stream'.format(stream_id))
E   ValueError: 104 is not a valid stream
____________ ExecDemuxTest.test_exec_command_tty_no_stream_no_demux ____________
/home/riyad/src/docker-py/tests/integration/api_exec_test.py:282: in test_exec_command_tty_no_stream_no_demux
    ???
E   AssertionError: assert b't\r\nhello err\r\n' == b'hello out\r\nhello err\r\n'
E     At index 0 diff: b't' != b'h'
E     Full diff:
E     - b'hello out\r\nhello err\r\n'
E     ?   --------
E     + b't\r\nhello err\r\n'
_______________ ExecDemuxTest.test_exec_command_tty_stream_demux _______________
/home/riyad/src/docker-py/tests/integration/api_exec_test.py:305: in test_exec_command_tty_stream_demux
    ???
docker/api/client.py:441: in <genexpr>
    gen = (demux_adaptor(*frame) for frame in gen)
docker/utils/socket.py:169: in demux_adaptor
    raise ValueError('{0} is not a valid stream'.format(stream_id))
E   ValueError: 104 is not a valid stream
_____________ ExecDemuxTest.test_exec_command_tty_stream_no_demux ______________
/home/riyad/src/docker-py/tests/integration/api_exec_test.py:288: in test_exec_command_tty_stream_no_demux
    ???
E   AssertionError: assert b'hello out\r\n' in [b't\r\n', b'hello err\r\n']
____________________ HealthcheckTest.test_healthcheck_fails ____________________
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:51: in test_healthcheck_fails
    ???
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:11: in wait_on_health_status
    ???
tests/helpers.py:82: in wait_on_condition
    while not condition():
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:10: in condition
    ???
E   KeyError: 'Health'
___________________ HealthcheckTest.test_healthcheck_passes ____________________
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:38: in test_healthcheck_passes
    ???
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:11: in wait_on_health_status
    ???
tests/helpers.py:82: in wait_on_condition
    while not condition():
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:10: in condition
    ???
E   KeyError: 'Health'
________________ HealthcheckTest.test_healthcheck_shell_command ________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/create

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:18: in test_healthcheck_shell_command
    ???
docker/api/container.py:430: in create_container
    return self.create_container_from_config(config, name)
docker/api/container.py:441: in create_container_from_config
    return self._result(res, True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/create: Internal Server Error ("fill out specgen: healthcheck-retries must be greater than 0")
________________ HealthcheckTest.test_healthcheck_start_period _________________
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:68: in test_healthcheck_start_period
    ???
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:11: in wait_on_health_status
    ???
tests/helpers.py:82: in wait_on_condition
    while not condition():
/home/riyad/src/docker-py/tests/integration/api_healthcheck_test.py:10: in condition
    ???
E   KeyError: 'Health'
___________________ PullImageTest.test_pull_invalid_platform ___________________
/home/riyad/src/docker-py/tests/integration/api_image_test.py:70: in test_pull_invalid_platform
    ???
E   Failed: DID NOT RAISE <class 'docker.errors.APIError'>
____________________________ CommitTest.test_commit ____________________________
/home/riyad/src/docker-py/tests/integration/api_image_test.py:93: in test_commit
    ???
E   AssertionError: assert 'alpine:3.10' == 'docker.io/li...cb41504e8a27c'
E     - docker.io/library/sha256:be4e4bea2c2e15b403bb321562e78ea84b501fb41497472e91ecb41504e8a27c
E     + alpine:3.10
_____________________ CommitTest.test_commit_with_changes ______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/commit?container=0ad5c2ebbc4e910b0078a07999ffd65aef83f8d1a8e8d9d348d991904ff4a81a&changes=EXPOSE+8000&changes=CMD+%5B%22bash%22%5D

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_image_test.py:102: in test_commit_with_changes
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:147: in commit
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/commit?container=0ad5c2ebbc4e910b0078a07999ffd65aef83f8d1a8e8d9d348d991904ff4a81a&changes=EXPOSE+8000&changes=CMD+%5B%22bash%22%5D: Internal Server Error ("CommitFailure: invalid change "CMD" - must be formatted as KEY VALUE")
_____________________ ImportImageTest.test_get_load_image ______________________
/home/riyad/src/docker-py/tests/integration/api_image_test.py:267: in test_get_load_image
    ???
E   AssertionError: assert False
E    +  where False = any([])
______________________ PruneImagesTest.test_prune_images _______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/images/prune?filters=%7B%22dangling%22%3A+%5B%22false%22%5D%7D

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_image_test.py:332: in test_prune_images
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/image.py:351: in prune_images
    return self._result(self._post(url, params=params), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/images/prune?filters=%7B%22dangling%22%3A+%5B%22false%22%5D%7D: Internal Server Error ("runtime error: invalid memory address or nil pointer dereference")
_________________ SaveLoadImagesTest.test_get_image_load_image _________________
/home/riyad/src/docker-py/tests/integration/api_image_test.py:361: in test_get_image_load_image
    ???
E   AssertionError: assert False is True
----------------------------- Captured stdout call -----------------------------
{'stream': 'Loaded image: docker.io/library/alpine:3.10\n'}
______________ InspectDistributionTest.test_inspect_distribution _______________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/distribution/busybox:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_image_test.py:367: in test_inspect_distribution
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/image.py:289: in inspect_distribution
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/distribution/busybox:latest/json: Not Found ("Path /v1.40/distribution/busybox:latest/json is not supported")
______________ TestNetworks.test_connect_and_disconnect_container ______________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/fcd5ff35c7d562a30fb5051f6ee23b71f6d367e4b72e9d3672d8dc4ca81f11af/connect

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:102: in test_connect_and_disconnect_container
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/network.py:250: in connect_container_to_network
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/fcd5ff35c7d562a30fb5051f6ee23b71f6d367e4b72e9d3672d8dc4ca81f11af/connect: Internal Server Error ("network disconnect is not enabled for rootless containers")
___________ TestNetworks.test_connect_and_force_disconnect_container ___________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/1da80df19ca2b2c1d4f52627ac7e3c2a16e71802b3fce0ca664680004057898f/connect

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:129: in test_connect_and_force_disconnect_container
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/network.py:250: in connect_container_to_network
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/1da80df19ca2b2c1d4f52627ac7e3c2a16e71802b3fce0ca664680004057898f/connect: Internal Server Error ("network disconnect is not enabled for rootless containers")
________________ TestNetworks.test_connect_on_container_create _________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/805752d24ee1d4f3207403ca543c7c231d3db948b901481ac7979c5907d7470c/disconnect

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:175: in test_connect_on_container_create
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/network.py:274: in disconnect_container_from_network
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/805752d24ee1d4f3207403ca543c7c231d3db948b901481ac7979c5907d7470c/disconnect: Internal Server Error ("network connect is not enabled for rootless containers")
____________________ TestNetworks.test_connect_with_aliases ____________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/0235dc3011b1fc8f21b1cb08e3cea7e16745a654e35d9330e646c5c7317cd380/connect

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:151: in test_connect_with_aliases
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/network.py:250: in connect_container_to_network
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/0235dc3011b1fc8f21b1cb08e3cea7e16745a654e35d9330e646c5c7317cd380/connect: Internal Server Error ("network disconnect is not enabled for rootless containers")
_________________ TestNetworks.test_connect_with_ipv4_address __________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/5faf7c2f16738f75c4cc0821d26bebeda4ce53d246b4952bfa585e7bb0d6d43f/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:373: in test_connect_with_ipv4_address
    ???
tests/integration/base.py:115: in create_and_start
    self.client.start(container)
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/5faf7c2f16738f75c4cc0821d26bebeda4ce53d246b4952bfa585e7bb0d6d43f/start: Internal Server Error ("command rootless-cni-infra [alloc 5faf7c2f16738f75c4cc0821d26bebeda4ce53d246b4952bfa585e7bb0d6d43f dockerpytest_339fa1e136ec3ee2 flamboyant_brown] in container bf334918bc2da1c4ddc198a0c59197798d18df575c193c441ae673ae303de96e failed with status 1, stdout="", stderr="failed to set bridge addr: \"cni-podman0\" already has an IP address different from 172.28.5.254/16\n"")
_________________ TestNetworks.test_connect_with_ipv6_address __________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/dockerpytest_3519d5b8d62222a1/disconnect

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:402: in test_connect_with_ipv6_address
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/network.py:274: in disconnect_container_from_network
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/dockerpytest_3519d5b8d62222a1/disconnect: Internal Server Error ("network connect is not enabled for rootless containers")
_____________________ TestNetworks.test_connect_with_links _____________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/dockerpytest_aee057f834d44966/disconnect

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:340: in test_connect_with_links
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/network.py:274: in disconnect_container_from_network
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/dockerpytest_aee057f834d44966/disconnect: Internal Server Error ("network connect is not enabled for rootless containers")
___________________ TestNetworks.test_create_check_duplicate ___________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/create

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:330: in test_create_check_duplicate
    ???
docker/api/network.py:153: in create_network
    return self._result(res, json=True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/create: Internal Server Error ("the network name dockerpytest_a7ca36dcae69a2d1 is already used")
________________ TestNetworks.test_create_network_ipv6_enabled _________________
/home/riyad/src/docker-py/tests/integration/api_network_test.py:449: in test_create_network_ipv6_enabled
    ???
E   AssertionError: assert False is True
______________ TestNetworks.test_create_network_with_ipam_config _______________
/home/riyad/src/docker-py/tests/integration/api_network_test.py:70: in test_create_network_with_ipam_config
    ???
E   AssertionError: assert [{'Gateway': ...2.28.0.0/16'}] == [{'AuxiliaryA...2.28.0.0/16'}]
E     At index 0 diff: {'Subnet': '172.28.0.0/16', 'Gateway': '172.28.5.254'} != {'Subnet': '172.28.0.0/16', 'IPRange': '172.28.5.0/24', 'Gateway': '172.28.5.254', 'AuxiliaryAddresses': {'a': '172.28.1.5', 'b': '172.28.1.6', 'c': '172.28.1.7'}}
E     Full diff:
E       [
E     -  {'AuxiliaryAddresses': {'a': '172.28.1.5',
E     -                          'b': '172.28.1.6',
E     -                          'c': '172.28.1.7'},
E     -   'Gateway': '172.28.5.254',...
E     
E     ...Full output truncated (7 lines hidden), use '-vv' to show
___________________ TestNetworks.test_create_with_driveropt ____________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/5a07c523936873e1cb418f23addd9ab7960d7ca5df570c6b0cca3a5119cbf675/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:292: in test_create_with_driveropt
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/5a07c523936873e1cb418f23addd9ab7960d7ca5df570c6b0cca3a5119cbf675/start: Internal Server Error ("command rootless-cni-infra [alloc 5a07c523936873e1cb418f23addd9ab7960d7ca5df570c6b0cca3a5119cbf675 bridge kind_solomon] in container bf334918bc2da1c4ddc198a0c59197798d18df575c193c441ae673ae303de96e failed with status 1, stdout="", stderr="no net configurations found in /etc/cni/net.d\n"")
__________________ TestNetworks.test_create_with_ipv4_address __________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/2cf6610451db8f2bca1cb1795cfb37e4fa8dcd9bbd2d28a109e5d908e95e78fc/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:223: in test_create_with_ipv4_address
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/2cf6610451db8f2bca1cb1795cfb37e4fa8dcd9bbd2d28a109e5d908e95e78fc/start: Internal Server Error ("command rootless-cni-infra [alloc 2cf6610451db8f2bca1cb1795cfb37e4fa8dcd9bbd2d28a109e5d908e95e78fc dockerpytest_f686938383a7de5d busy_swartz] in container bf334918bc2da1c4ddc198a0c59197798d18df575c193c441ae673ae303de96e failed with status 1, stdout="", stderr="failed to set bridge addr: \"cni-podman0\" already has an IP address different from 132.124.0.1/16\n"")
__________________ TestNetworks.test_create_with_ipv6_address __________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/48d89e7f896ff8966867d52f25542ee492746dadbb09328ffc31c01de8ae9ebd/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:249: in test_create_with_ipv6_address
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/48d89e7f896ff8966867d52f25542ee492746dadbb09328ffc31c01de8ae9ebd/start: Internal Server Error ("command rootless-cni-infra [alloc 48d89e7f896ff8966867d52f25542ee492746dadbb09328ffc31c01de8ae9ebd dockerpytest_4edbfe9cabf0992b elated_ishizaka] in container bf334918bc2da1c4ddc198a0c59197798d18df575c193c441ae673ae303de96e failed with status 1, stdout="", stderr="failed to set bridge addr: \"cni-podman0\" already has an IP address different from 2001:389::1/64\n"")
_________________ TestNetworks.test_create_with_linklocal_ips __________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/6644dfa2c22d90daca867341c725f680c494851ff073260b76cf267c4169ac95/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:271: in test_create_with_linklocal_ips
    ???
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/6644dfa2c22d90daca867341c725f680c494851ff073260b76cf267c4169ac95/start: Internal Server Error ("command rootless-cni-infra [alloc 6644dfa2c22d90daca867341c725f680c494851ff073260b76cf267c4169ac95 bridge recursing_elion] in container bf334918bc2da1c4ddc198a0c59197798d18df575c193c441ae673ae303de96e failed with status 1, stdout="", stderr="no net configurations found in /etc/cni/net.d\n"")
_____________________ TestNetworks.test_create_with_links ______________________
/home/riyad/src/docker-py/tests/integration/api_network_test.py:315: in test_create_with_links
    ???
E   AssertionError: assert None == ['docker-py-t...upstream:bar']
E     +None
E     -['docker-py-test-upstream:bar']
_______________________ TestNetworks.test_prune_networks _______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/networks/prune

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_network_test.py:469: in test_prune_networks
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/network.py:175: in prune_networks
    return self._result(self._post(url, params=params), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/networks/prune: Not Found ("Path /v1.40/networks/prune is not supported")
_______________________ TestNetworks.test_remove_network _______________________
/home/riyad/src/docker-py/tests/integration/api_network_test.py:90: in test_remove_network
    ???
E   TypeError: 'NoneType' object is not iterable
_______________________ PluginTest.test_configure_plugin _______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:39: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:104: in inspect_plugin
    return self._result(self._get(url), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json: Not Found ("b'Not Found'")

During handling of the above exception, another exception occurred:
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:90: in test_configure_plugin
    ???
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:41: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
________________________ PluginTest.test_create_plugin _________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/create?name=docker-sdk-py%2Fdummy

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:140: in test_create_plugin
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:52: in create_plugin
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/create?name=docker-sdk-py%2Fdummy: Not Found ("b'Not Found'")
________________________ PluginTest.test_disable_plugin ________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:39: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:104: in inspect_plugin
    return self._result(self._get(url), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json: Not Found ("b'Not Found'")

During handling of the above exception, another exception occurred:
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:56: in test_disable_plugin
    ???
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:41: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
________________________ PluginTest.test_enable_plugin _________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:39: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:104: in inspect_plugin
    return self._result(self._get(url), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json: Not Found ("b'Not Found'")

During handling of the above exception, another exception occurred:
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:47: in test_enable_plugin
    ???
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:41: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
_____________________ PluginTest.test_force_remove_plugin ______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:39: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:104: in inspect_plugin
    return self._result(self._get(url), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json: Not Found ("b'Not Found'")

During handling of the above exception, another exception occurred:
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:109: in test_force_remove_plugin
    ???
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:41: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
________________________ PluginTest.test_inspect_plugin ________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:39: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:104: in inspect_plugin
    return self._result(self._get(url), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json: Not Found ("b'Not Found'")

During handling of the above exception, another exception occurred:
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:68: in test_inspect_plugin
    ???
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:41: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
________________________ PluginTest.test_install_plugin ________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:120: in test_install_plugin
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
_________________________ PluginTest.test_list_plugins _________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:39: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:104: in inspect_plugin
    return self._result(self._get(url), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json: Not Found ("b'Not Found'")

During handling of the above exception, another exception occurred:
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:83: in test_list_plugins
    ???
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:41: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
______________________ PluginTest.test_plugin_privileges _______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:75: in test_plugin_privileges
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
________________________ PluginTest.test_remove_plugin _________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:39: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:104: in inspect_plugin
    return self._result(self._get(url), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json: Not Found ("b'Not Found'")

During handling of the above exception, another exception occurred:
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:104: in test_remove_plugin
    ???
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:41: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
________________________ PluginTest.test_upgrade_plugin ________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:39: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:104: in inspect_plugin
    return self._result(self._get(url), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/vieux/sshfs:latest/json: Not Found ("b'Not Found'")

During handling of the above exception, another exception occurred:
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:128: in test_upgrade_plugin
    ???
/home/riyad/src/docker-py/tests/integration/api_plugin_test.py:41: in ensure_plugin_installed
    ???
docker/utils/decorators.py:34: in wrapper
    return f(self, *args, **kwargs)
docker/api/plugin.py:180: in plugin_privileges
    return self._result(
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/plugins/privileges?remote=vieux%2Fsshfs%3Alatest: Not Found ("b'Not Found'")
________________ TestVolumes.test_create_volume_invalid_driver _________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/volumes/create

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/api_volume_test.py:22: in test_create_volume_invalid_driver
    ???
docker/api/volume.py:89: in create_volume
    return self._result(self._post_json(url, data=data), True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/volumes/create: Internal Server Error ("volume perfectcherryblossom uses volume plugin invalid.driver but it could not be retrieved: no volume plugin with name invalid.driver available: required plugin missing")
_______________________ TestVolumes.test_inspect_volume ________________________
/home/riyad/src/docker-py/tests/integration/api_volume_test.py:38: in test_inspect_volume
    ???
E   AssertionError: assert {'CreatedAt':...l/_data', ...} == {'CreatedAt':...l/_data', ...}
E     Omitting 6 identical items, use -vv to show
E     Differing items:
E     {'Options': None} != {'Options': {}}
E     Full diff:
E       {
E        'CreatedAt': '2021-01-18T09:46:22Z',
E        'Driver': 'local',...
E     
E     ...Full output truncated (10 lines hidden), use '-vv' to show
________________________ TestVolumes.test_list_volumes _________________________
/home/riyad/src/docker-py/tests/integration/api_volume_test.py:31: in test_list_volumes
    ???
E   AssertionError: assert {'CreatedAt': '2021-01-18T09:46:23Z', 'Driver': 'local', 'Labels': {}, 'Mountpoint': '/home/ubuntu/.local/share/containers/storage/volumes/imperishablenight/_data', ...} in [{'CreatedAt': '2021-01-18T09:44:15Z', 'Driver': 'local', 'Labels': {}, 'Mountpoint': '/home/ubuntu/.local/share/conta...cal', 'Labels': {}, 'Mountpoint': '/home/ubuntu/.local/share/containers/storage/volumes/imperishablenight/_data', ...}]
___________________ ContextLifecycleTest.test_context_remove ___________________
/home/riyad/src/docker-py/tests/integration/context_api_test.py:47: in test_context_remove
    ???
docker/context/api.py:57: in create_context
    raise errors.ContextAlreadyExists(name)
E   docker.errors.ContextAlreadyExists: context test already exists
_____________________ ContextLifecycleTest.test_lifecycle ______________________
/home/riyad/src/docker-py/tests/integration/context_api_test.py:13: in test_lifecycle
    ???
E   AssertionError: assert not <Context: 'test'>
E    +  where <Context: 'test'> = <bound method ContextAPI.get_context of <class 'docker.context.api.ContextAPI'>>('test')
E    +    where <bound method ContextAPI.get_context of <class 'docker.context.api.ContextAPI'>> = ContextAPI.get_context
_________ ContextLifecycleTest.test_load_context_without_orchestrator __________
/home/riyad/src/docker-py/tests/integration/context_api_test.py:55: in test_load_context_without_orchestrator
    ???
docker/context/api.py:57: in create_context
    raise errors.ContextAlreadyExists(name)
E   docker.errors.ContextAlreadyExists: context test already exists
____________________ ErrorsTest.test_api_error_parses_json _____________________
/home/riyad/src/docker-py/tests/integration/errors_test.py:13: in test_api_error_parses_json
    ???
E   AssertionError: assert 'You cannot remove a running container' in 'cannot remove container ee6dbbaaba2af51567040c5fe9d95849c78a3fc2422b7e6895101584e8741af6 as it is running - running or paused containers cannot be removed without force: container state improper'
_______________________ ContainerCollectionTest.test_get _______________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:189: in test_get
    ???
E   AssertionError: assert 'docker.io/li...alpine:latest' == 'alpine'
E     - alpine
E     + docker.io/library/alpine:latest
______________________ ContainerCollectionTest.test_list _______________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:202: in test_list
    ???
E   AssertionError: assert 'docker.io/li...alpine:latest' == 'alpine'
E     - alpine
E     + docker.io/library/alpine:latest
___________________ ContainerCollectionTest.test_list_sparse ___________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:220: in test_list_sparse
    ???
E   AssertionError: assert 'docker.io/li...alpine:latest' == 'alpine'
E     - alpine
E     + docker.io/library/alpine:latest
_______________________ ContainerCollectionTest.test_run _______________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:18: in test_run
    ???
E   AssertionError: assert None == b'hello world\n'
E     +None
E     -b'hello world\n'
___________________ ContainerCollectionTest.test_run_detach ____________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:26: in test_run_detach
    ???
E   AssertionError: assert 'docker.io/li...alpine:latest' == 'alpine'
E     - alpine
E     + docker.io/library/alpine:latest
______________ ContainerCollectionTest.test_run_with_auto_remove _______________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:133: in test_run_with_auto_remove
    ???
E   AssertionError: assert None == b'hello\n'
E     +None
E     -b'hello\n'
_______ ContainerCollectionTest.test_run_with_image_that_does_not_exist ________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: http+docker://localhost/v1.40/containers/create

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:41: in test_run_with_image_that_does_not_exist
    ???
docker/models/containers.py:811: in run
    container = self.create(image=image, command=command,
docker/models/containers.py:870: in create
    resp = self.client.api.create_container(**create_kwargs)
docker/api/container.py:430: in create_container
    return self.create_container_from_config(config, name)
docker/api/container.py:441: in create_container_from_config
    return self._result(res, True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.NotFound: 404 Client Error for http+docker://localhost/v1.40/containers/create: Not Found ("unable to find a name and tag match for dockerpytest_does_not_exist in repotags: no such image")
______________ ContainerCollectionTest.test_run_with_named_volume ______________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:87: in test_run_with_named_volume
    ???
E   AssertionError: assert None == b'hello\n'
E     +None
E     -b'hello\n'
______________ ContainerCollectionTest.test_run_with_proxy_config ______________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:182: in test_run_with_proxy_config
    ???
E   TypeError: argument of type 'NoneType' is not iterable
_____________ ContainerCollectionTest.test_run_with_streamed_logs ______________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:153: in test_run_with_streamed_logs
    ???
E   TypeError: 'NoneType' object is not iterable
________ ContainerCollectionTest.test_run_with_streamed_logs_and_cancel ________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:166: in test_run_with_streamed_logs_and_cancel
    ???
E   AttributeError: 'NoneType' object has no attribute 'close'
_________________ ContainerCollectionTest.test_run_with_volume _________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:65: in test_run_with_volume
    ???
E   AssertionError: assert None == b'hello\n'
E     +None
E     -b'hello\n'
__________________________ ContainerTest.test_commit ___________________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:242: in test_commit
    ???
E   AssertionError: assert None == b'hello\n'
E     +None
E     -b'hello\n'
_________________ ContainerTest.test_create_with_volume_driver _________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:456: in test_create_with_volume_driver
    ???
E   AssertionError: assert '' == 'foo'
E     - foo
___________________________ ContainerTest.test_diff ____________________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:251: in test_diff
    ???
E   AssertionError: assert [{'Kind': 0, ...th': '/test'}] == [{'Kind': 1, 'Path': '/test'}]
E     At index 0 diff: {'Path': '/etc', 'Kind': 0} != {'Path': '/test', 'Kind': 1}
E     Left contains one more item: {'Kind': 1, 'Path': '/test'}
E     Full diff:
E     - [{'Kind': 1, 'Path': '/test'}]
E     + [{'Kind': 0, 'Path': '/etc'}, {'Kind': 1, 'Path': '/test'}]
______________________ ContainerTest.test_exec_run_failed ______________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:270: in test_exec_run_failed
    ???
E   AssertionError: assert 127 == 126
E     +127
E     -126
___________________________ ContainerTest.test_kill ____________________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:281: in test_kill
    ???
E   AssertionError: assert 'stopped' == 'exited'
E     - exited
E     + stopped
___________________________ ContainerTest.test_pause ___________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/fa24962e1dc0dbcb12f79de1a2badde603db7ced908f081a1e49e5061acbf8b8/pause

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:295: in test_pause
    ???
docker/models/containers.py:316: in pause
    return self.client.api.pause(self.id)
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:892: in pause
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/fa24962e1dc0dbcb12f79de1a2badde603db7ced908f081a1e49e5061acbf8b8/pause: Internal Server Error ("`/usr/bin/crun pause fa24962e1dc0dbcb12f79de1a2badde603db7ced908f081a1e49e5061acbf8b8` failed: exit status 1")
_____________________ ContainerTest.test_ports_target_none _____________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/create

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:354: in test_ports_target_none
    ???
docker/models/containers.py:811: in run
    container = self.create(image=image, command=command,
docker/models/containers.py:870: in create
    resp = self.client.api.create_container(**create_kwargs)
docker/api/container.py:430: in create_container
    return self.create_container_from_config(config, name)
docker/api/container.py:441: in create_container_from_config
    return self._result(res, True)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/create: Internal Server Error ("make cli opts(): strconv.Atoi: parsing "": invalid syntax")
___________________________ ContainerTest.test_start ___________________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:336: in test_start
    ???
E   AssertionError: assert 'configured' == 'created'
E     - created
E     + configured
___________________________ ContainerTest.test_stop ____________________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:414: in test_stop
    ???
E   AssertionError: assert 'configured' in ('running', 'created')
E    +  where 'configured' = <Container: 7f49167740>.status
____________________________ ContainerTest.test_top ____________________________
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:425: in test_top
    ???
E   AssertionError: assert 'sleep 60' in ['    1 root      0:00 sleep 60']
__________________________ ContainerTest.test_update ___________________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/containers/5098a065fa08c21db323c81081f94869e880214a80bf61be7eebb68d25873585/start

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/models_containers_test.py:429: in test_update
    ???
docker/models/containers.py:818: in run
    container.start()
docker/models/containers.py:404: in start
    return self.client.api.start(self.id, **kwargs)
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/container.py:1111: in start
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/containers/5098a065fa08c21db323c81081f94869e880214a80bf61be7eebb68d25873585/start: Internal Server Error ("cannot set limits without cgroups: OCI runtime error")
________________________ ImageCollectionTest.test_build ________________________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:20: in test_build
    ???
E   AssertionError: assert None == b'hello world\n'
E     +None
E     -b'hello world\n'
__________________ ImageCollectionTest.test_build_with_error ___________________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:30: in test_build_with_error
    ???
E   AssertionError: assert "The command '/bin/sh -c exit 1' returned a non-zero code: 1" in 'docker.errors.BuildError: error building at STEP "RUN exit 1": exit status 1'
E    +  where 'docker.errors.BuildError: error building at STEP "RUN exit 1": exit status 1' = <bound method ExceptionInfo.exconly of <ExceptionInfo BuildError('error building at STEP "RUN exit 1": exit status 1\n') tblen=2>>()
E    +    where <bound method ExceptionInfo.exconly of <ExceptionInfo BuildError('error building at STEP "RUN exit 1": exit status 1\n') tblen=2>> = <ExceptionInfo BuildError('error building at STEP "RUN exit 1": exit status 1\n') tblen=2>.exconly
_____________ ImageCollectionTest.test_build_with_multiple_success _____________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:44: in test_build_with_multiple_success
    ???
E   AssertionError: assert None == b'hello world\n'
E     +None
E     -b'hello world\n'
___________ ImageCollectionTest.test_build_with_success_build_output ___________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:55: in test_build_with_success_build_output
    ???
E   AssertionError: assert None == b'Successfull...lt abcd1234\n'
E     +None
E     -b'Successfully built abcd1234\n'
_____________________ ImageCollectionTest.test_load_error ______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/images/load

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/models_images_test.py:98: in test_load_error
    ???
docker/models/images.py:384: in load
    for chunk in resp:
docker/api/client.py:389: in _stream_helper
    yield self._result(response, json=decode)
docker/api/client.py:302: in _result
    self._raise_for_status(response)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/images/load: Internal Server Error ("failed to load image: error pulling image: unable to pull oci:/var/tmp/api_load.tar342663197:: 1 error occurred:
E   	* Error initializing source oci:/var/tmp/api_load.tar342663197:: open /var/tmp/api_load.tar342663197/index.json: not a directory")
________________________ ImageCollectionTest.test_pull _________________________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:71: in test_pull
    ???
E   AssertionError: assert 'alpine:latest' in ['docker.io/library/alpine:latest']
____________________ ImageCollectionTest.test_pull_multiple ____________________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:91: in test_pull_multiple
    ???
/home/riyad/src/docker-py/tests/integration/models_images_test.py:91: in <listcomp>
    ???
E   TypeError: argument of type 'NoneType' is not iterable
____________________ ImageCollectionTest.test_pull_with_sha ____________________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:85: in test_pull_with_sha
    ???
E   AssertionError: assert 'hello-world@sha256:083de497cff944f969d8499ab94f07134c50bcf5e6b9559b27182d3fa80ce3f7' in ['docker.io/library/hello-world@sha256:083de497cff944f969d8499ab94f07134c50bcf5e6b9559b27182d3fa80ce3f7', 'docker.io/library/hello-world@sha256:8072a54ebb3bc136150e2f2860f00a7bf45f13eeb917cca2430fcd0054c8e51b']
____________________ ImageCollectionTest.test_pull_with_tag ____________________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:76: in test_pull_with_tag
    ???
E   AssertionError: assert 'alpine:3.10' in ['docker.io/library/alpine:3.10', 'docker.io/library/sha256:be4e4bea2c2e15b403bb321562e78ea84b501fb41497472e91ecb41504e8a27c']
_______________ ImageCollectionTest.test_save_and_load_repo_name _______________
/home/riyad/src/docker-py/tests/integration/models_images_test.py:122: in test_save_and_load_repo_name
    ???
docker/models/images.py:98: in save
    raise InvalidArgument(
E   docker.errors.InvalidArgument: dockerpytest_137ddb250b928de:latest is not a valid tag for this image
____________________ NetworkCollectionTest.test_list_remove ____________________
/home/riyad/src/docker-py/tests/integration/models_networks_test.py:30: in test_list_remove
    ???
docker/models/networks.py:210: in list
    networks = [self.prepare_model(item) for item in resp]
E   TypeError: 'NoneType' object is not iterable
_____________________ NetworkTest.test_connect_disconnect ______________________
docker/api/client.py:296: in _raise_for_status
    response.raise_for_status()
venv/lib/python3.8/site-packages/requests/models.py:940: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.40/networks/8858283a16faba06c89bfabc3632fd16ee37b61c740b882efba0547bf8d9f4ca/connect

During handling of the above exception, another exception occurred:
/home/riyad/src/docker-py/tests/integration/models_networks_test.py:59: in test_connect_disconnect
    ???
docker/models/networks.py:58: in connect
    return self.client.api.connect_container_to_network(
docker/utils/decorators.py:19: in wrapped
    return f(self, resource_id, *args, **kwargs)
docker/api/network.py:250: in connect_container_to_network
    self._raise_for_status(res)
docker/api/client.py:298: in _raise_for_status
    raise create_api_error_from_http_exception(e)
docker/errors.py:31: in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation)
E   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.40/networks/8858283a16faba06c89bfabc3632fd16ee37b61c740b882efba0547bf8d9f4ca/connect: Internal Server Error ("network disconnect is not enabled for rootless containers")
_________________________ VolumesTest.test_list_remove _________________________
/home/riyad/src/docker-py/tests/integration/models_volumes_test.py:26: in test_list_remove
    ???
E   AssertionError: assert <Volume: dockerpyte> in []
E    +  where [] = <bound method VolumeCollection.list of <docker.models.volumes.VolumeCollection object at 0x7f2677d38ee0>>(filters={'name': 'dockerpytest_'})
E    +    where <bound method VolumeCollection.list of <docker.models.volumes.VolumeCollection object at 0x7f2677d38ee0>> = <docker.models.volumes.VolumeCollection object at 0x7f2677d38ee0>.list
E    +      where <docker.models.volumes.VolumeCollection object at 0x7f2677d38ee0> = <docker.client.DockerClient object at 0x7f2677c455b0>.volumes
________ TestRegressions.test_443_handle_nonchunked_response_in_stream _________
/home/riyad/src/docker-py/tests/integration/regression_test.py:16: in test_443_handle_nonchunked_response_in_stream
    ???
E   Failed: DID NOT RAISE <class 'docker.errors.APIError'>
=============================== warnings summary ===============================
venv/lib/python3.8/site-packages/paramiko/hostkeys.py:23
  /home/ubuntu/docker-py/venv/lib/python3.8/site-packages/paramiko/hostkeys.py:23: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3, and in 3.9 it will stop working
    from collections import MutableMapping

tests/integration/api_client_test.py::ConnectionTimeoutTest::test_timeout
  /home/ubuntu/docker-py/docker/utils/utils.py:276: DeprecationWarning: urllib.parse.splitnport() is deprecated as of 3.8, use urllib.parse.urlparse() instead
    host, port = splitnport(parsed_url.netloc)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
XFAIL tests/integration/api_build_test.py::BuildTest::test_prune_builds
  Currently fails on 18.09: https://github.com/moby/moby/issues/37920
XFAIL tests/integration/api_container_test.py::CreateContainerTest::test_create_with_storage_opt
  Not supported on most drivers
XFAIL tests/integration/api_container_test.py::ContainerTopTest::test_top
  Output of docker top depends on host distro, and is not formalized.
XFAIL tests/integration/api_container_test.py::ContainerTopTest::test_top_with_psargs
  Output of docker top depends on host distro, and is not formalized.
SKIPPED [1] ../../riyad/src/docker-py/tests/integration/api_image_test.py:292: Doesn't work inside a container - FIXME
= 128 failed, 139 passed, 1 skipped, 116 deselected, 4 xfailed, 1 xpassed, 2 warnings in 230.57s (0:03:50) =
